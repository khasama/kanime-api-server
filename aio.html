<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" 
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/34.1.0/classic/ckeditor.js"></script>
    <div class="wrapper">

        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="Genres">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Genres
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="Genres"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Genre</th>
                                    <th scope="col">Slug</th>
                                    <th scope="col">
                                        <a href="javascript:void(0)" data-bs-toggle='modal' data-bs-target='#createGenreModal'>
                                            <img src="https://img.icons8.com/material-outlined/24/000000/add.png"/>
                                        </a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="genre-tb-list">
                            </tbody>
                        </table>

                        <div class="modal fade" id="updateGenreModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="genre"></h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="genre" class="form-label">Genre: </label>
                                            <input type="text" id="update-genre-input" class="form-control">
                                            <input type="hidden" id="update-idgenre-input">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-primary" onclick="updateGenre()" data-bs-dismiss="modal">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="createGenreModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Create Genre</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" 
                                        aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="genre" class="form-label">Genre: </label>
                                            <input type="text" id="create-genre-input" class="form-control">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-success" onclick="createGenre()" data-bs-dismiss="modal">Create</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                        Status
                    </button>
                </h2>
                <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Slug</th>
                                    <th scope="col">
                                        <a href="javascript:void(0)" data-bs-toggle='modal' data-bs-target='#createStatusModal'>
                                            <img src="https://img.icons8.com/material-outlined/24/000000/add.png"/>
                                        </a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="status-tb-list">
                            </tbody>
                        </table>

                        <div class="modal fade" id="updateStatusModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="status"></h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="status" class="form-label">Status: </label>
                                            <input type="text" id="update-status-input" class="form-control">
                                            <input type="hidden" id="update-idstatus-input">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-primary" onclick="updateStatus()" data-bs-dismiss="modal">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="createStatusModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Create Status</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" 
                                        aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="status" class="form-label">Status: </label>
                                            <input type="text" id="create-status-input" class="form-control">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-success" onclick="createStatus()" data-bs-dismiss="modal">Create</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Series
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="Series"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Series</th>
                                    <th scope="col">
                                        <a href="javascript:void(0)" data-bs-toggle='modal' data-bs-target='#createSeriesModal'>
                                            <img src="https://img.icons8.com/material-outlined/24/000000/add.png"/>
                                        </a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="series-tb-list">
                            </tbody>
                        </table>

                        <div class="modal fade" id="updateSeriesModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="series"></h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="genre" class="form-label">Series: </label>
                                            <input type="text" id="update-series-input" class="form-control">
                                            <input type="hidden" id="update-idseries-input">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-primary" onclick="updateSeries()" data-bs-dismiss="modal">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="createSeriesModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Create Series</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" 
                                        aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="series" class="form-label">Series: </label>
                                            <input type="text" id="create-series-input" class="form-control">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-success" onclick="createSeries()" data-bs-dismiss="modal">Create</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="Servers">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Servers
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="Servers"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Server</th>
                                    <th scope="col">Server description</th>
                                    <th scope="col">
                                        <a href="javascript:void(0)" data-bs-toggle='modal' data-bs-target='#createServerModal'>
                                            <img src="https://img.icons8.com/material-outlined/24/000000/add.png"/>
                                        </a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="server-tb-list">
                            </tbody>
                        </table>

                        <div class="modal fade" id="updateServerModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="server"></h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="server" class="form-label">Server: </label>
                                            <input type="text" id="update-server-input" class="form-control">
                                            <label for="description" class="form-label">Server description: </label>
                                            <input type="text" id="update-description-input" class="form-control">
                                            <input type="hidden" id="update-idserver-input">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-primary" onclick="updateServer()" data-bs-dismiss="modal">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="createServerModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Create Server</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" 
                                        aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="server" class="form-label">Server: </label>
                                            <input type="text" id="create-server-input" class="form-control">
                                            <label for="description" class="form-label">Description: </label>
                                            <input type="text" id="create-description-input" class="form-control">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-success" onclick="createServer()" data-bs-dismiss="modal">Create</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="Anime">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        Anime
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="Anime"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Name(SLug)</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Activate</th>
                                    <th scope="col">
                                        <a href="javascript:void(0)" data-bs-toggle='modal' data-bs-target='#createAnimeModal'>
                                            <img src="https://img.icons8.com/material-outlined/24/000000/add.png"/>
                                        </a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="anime-tb-list">
                            </tbody>
                        </table>

                        <div class="modal fade" id="updateAnimeModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg" style="max-width: 80%">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="anime"></h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="name" class="form-label">Name: </label>
                                            <input type="text" id="update-name-input" class="form-control">
                                            <label for="oname" class="form-label">Other name: </label>
                                            <input type="text" id="update-oname-input" class="form-control">
                                            <label for="oname" class="form-label">Content: </label>
                                            <textarea id="editor">
                                                <b>asdasdasdad</b>
                                                <p>
                                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
                                                    Consequuntur distinctio, libero cum molestias officiis quod! 
                                                    Sunt debitis corrupti perferendis rerum nostrum cupiditate qui 
                                                    adipisci modi vitae soluta, molestiae tenetur minus.
                                                </p>
                                            </textarea>
                                            <div class="mt-3">
                                                <label for="view" class="d-inline form-label ">View: </label>
                                                <input type="text" id="update-view-input" class=" d-inline w-50 form-control">
                                            </div>
                                            <div class="mt-3">
                                                <label for="like" class="form-label d-inline">Like: </label>
                                                <input type="text" id="update-liked-input d-inline" class="d-inline w-50 form-control">
                                            </div>
                                            <div class="mt-3">
                                                <label for="mainserver" class="form-label d-inline">Main server: </label>
                                                <select id="update-mainserver-select" class="d-inline w-50 form-control">
                                                </select>
                                            </div>
                                            <div class="mt-3">
                                                <label for="status" class="form-label d-inline">Status: </label>
                                                <select id="update-status-select" class="d-inline w-50 form-control">
                                                </select>
                                            </div>
                                            <div class="mt-3 d-flex">
                                                <div class="w-50">
                                                    <label for="image" class="form-label d-inline">Image: </label>
                                                    <input type="file" class="d-inline w-75 form-control" id="image">
                                                    <button class="d-inline btn btn-success" id="crop-img">Save</button>
                                                
                                                    <div class="d-flex mt-2">
                                                        <div style="margin-right: 55px;">
                                                            <b>Old</b> <br>
                                                            <img src="src/uploads/anime/asdasd-1656156765071.jpeg" width="150" alt="">
                                                        </div>
                                                        <div >
                                                            <b class="d-inline">New</b>  <br>
                                                            <img src="" id="crop-img-rs" width="150" alt="">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div id="crop-img-area" style="width: 50% !important; display: none;">

                                                </div>
                                            </div>
                                            <div class="mt-3 d-flex">
                                                <div class="w-50">
                                                    <label for="background" class="form-label d-inline">Background: </label>
                                                    <input type="file" class="d-inline w-50 form-control" id="background">
                                                    <button class="d-inline btn btn-success" id="crop-imgbg">Save</button>
                                                    <div>
                                                        <b>Old</b> <br>
                                                        <img src="src/uploads/anime/asdasd-bg-1656156765071.jpeg" width="450" alt="">
                                                    </div>
                                                    <div class="mt-2">
                                                        <b class="d-inline">New</b>  <br>
                                                        <img src="" id="crop-imgbg-rs" width="450" alt="">

                                                    </div>
                                                </div>
                                                
                                                <div id="crop-imgbg-area" style="width: 50% !important; display: none;">

                                                </div>
                                            </div>

                                            <input type="hidden" id="update-idAnime-input">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-primary" onclick="updateServer()" data-bs-dismiss="modal">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modal fade" id="createAnimeModal" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Create Server</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" 
                                        aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div>
                                            <label for="server" class="form-label">Server: </label>
                                            <input type="text" id="create-server-input" class="form-control">
                                            <label for="description" class="form-label">Description: </label>
                                            <input type="text" id="create-description-input" class="form-control">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-success" onclick="createServer()" data-bs-dismiss="modal">Create</button>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- <div class="modal fade" id="cropp" tabindex="-1" 
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <div id="crop-img">
                                        
                                        </div>
                                        <button class="btn btn-success">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div> -->

                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                        Episode
                    </button>
                </h2>
                <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingThree"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <strong>This is the third item's accordion body.</strong> It is hidden by default, until the
                        collapse plugin adds the appropriate classes that we use to style each element. These classes
                        control the overall appearance, as well as the showing and hiding via CSS transitions. You can
                        modify any of this with custom CSS or overriding our default variables. It's also worth noting
                        that just about any HTML can go within the <code>.accordion-body</code>, though the transition
                        does limit overflow.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous">
    </script>
    <script>
        ClassicEditor
        .create( document.querySelector( '#editor' ) )
        .catch( error => {
            console.error( error );
        } );

        const eleImage = document.getElementById('image');
        const eleImageBG = document.getElementById('background');
        let elImg = document.getElementById('crop-img-area');
        let elImgBg = document.getElementById('crop-imgbg-area');
        let imgCrop = new Croppie(elImg, {
            viewport: {width: 195, height: 250 },
            boundary: { width: 300, height: 300 }
        });
        let imgCropBg = new Croppie(elImgBg, {
            viewport: {width: 550, height: 300 },
            boundary: { width: 600, height: 600 }
        });
        eleImage.onchange = function() {
            elImg.style.display = "block";
            const path = URL.createObjectURL(this.files[0]);
            imgCrop.bind({
                url: path
            });

            document.querySelector("#crop-img").addEventListener('click', () => {
                imgCrop.result({type: 'hmtl', format: 'webp', size: 'viewport'}).then(rs => {
                    document.getElementById("crop-img-rs").setAttribute("src", rs.childNodes[0].getAttribute('src'))
                });
            }, false);

            // document.querySelector("#test").addEventListener('click', () => {
            //     imgCrop.result({type: 'canvas',format: 'webp', size: 'viewport'}).then(rs => {
            //         const image = rs.replace(/^data:image\/webp;base64,/, "");
            //         fetch(`http://localhost:3456/api/v1/anime/test/`, {
            //             method: 'POST',
            //             headers: {
            //                 'Content-Type': 'application/json',
            //             },
            //             body: JSON.stringify({image})
            //         })
            //         .then(response => response.json())
            //         .then(data => {})
            //     });

            // }, false);

            
        };
        eleImageBG.onchange = function() {
            elImgBg.style.display = "block";
            const path = URL.createObjectURL(this.files[0]);
            imgCropBg.bind({
                url: path
            });
            document.querySelector("#crop-imgbg").addEventListener('click', () => {
                imgCropBg.result({type: 'hmtl', format: 'webp', size: 'viewport'}).then(rs => {
                    document.getElementById("crop-imgbg-rs").setAttribute("src", rs.childNodes[0].getAttribute('src'))
                })
            }, false);
            
        };
    
    </script>


    <script>
        getGenre();
        function getGenre(){
            fetch('http://localhost:3456/api/v1/genre/all')
            .then(response => response.json())
            .then(data => {
                const genres = data.data;
                const genreTb = document.getElementById("genre-tb-list");
                genreTb.innerHTML = '';
                genres.forEach(ele => {
                    genreTb.insertAdjacentHTML('beforeend', `
                        <tr>
                            <td scope="row">${ele.idGenre}</td>    
                            <td>${ele.Genre}</td>
                            <td>${ele.GenreSlug}</td>
                            <td>
                                <a href='javascript:void(0)' class='btn btn-info' data-infor='${JSON.stringify(ele)}'
                                onclick="setDataGenre(this)" data-bs-toggle='modal' data-bs-target='#updateGenreModal'>
                                    <img src="https://img.icons8.com/ios-glyphs/30/000000/edit--v1.png"/>
                                </a>
                                <a href="javascript:void(0)" class="btn btn-danger" data-id="${ele.idGenre}" 
                                onclick="deleteGenre(this)">
                                    <img src="https://img.icons8.com/material-rounded/24/000000/filled-trash.png"/>
                                </a>
                            </td>
                        </tr>
                        `
                    );
                });
            });
        }
        
        function setDataGenre(ele){
            const data = JSON.parse(ele.getAttribute("data-infor"));
            document.getElementById("genre").innerText = data.Genre;
            document.getElementById("update-genre-input").value = data.Genre;
            document.getElementById("update-idgenre-input").value = data.idGenre;
        }
        
        function updateGenre(){
            const genre = document.getElementById("update-genre-input").value.trim();
            const id = document.getElementById("update-idgenre-input").value.trim();
            if (genre) {
                fetch(`http://localhost:3456/api/v1/genre/update/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({genre})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Success"){
                        alert(result.message);
                        getGenre();
                    }else{
                        alert(result.error);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            } else {
                alert("Not emty");
            }
        }
    
        function createGenre(){
            const genre = document.getElementById("create-genre-input").value.trim();
            if (genre) {
                fetch('http://localhost:3456/api/v1/genre/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({genre})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getGenre();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            } else {
                alert("Not emty");
            }
        }
        
        function deleteGenre(ele){
            if (confirm("Delete this ???")) {
                const id = ele.getAttribute("data-id");
                fetch(`http://localhost:3456/api/v1/genre/delete/${id}`, {
                    method: 'DELETE'
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getGenre();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        }
    
    </script>

    <script>
        getStatus();
        function getStatus(){
            fetch('http://localhost:3456/api/v1/status/all')
            .then(response => response.json())
            .then(data => {
                const status = data.data;
                const statusTb = document.getElementById("status-tb-list");
                const statusSl = document.getElementById("update-status-select");
                statusTb.innerHTML = '';
                statusSl.innerHTML = '';
                status.forEach(ele => {
                    statusTb.insertAdjacentHTML('beforeend', `
                        <tr>
                            <td scope="row">${ele.idStatus}</td>    
                            <td>${ele.Status}</td>
                            <td>${ele.StatusSlug}</td>
                            <td>
                                <a href='javascript:void(0)' class='btn btn-info' data-infor='${JSON.stringify(ele)}'
                                onclick="setDataStatus(this)" data-bs-toggle='modal' data-bs-target='#updateStatusModal'>
                                    <img src="https://img.icons8.com/ios-glyphs/30/000000/edit--v1.png"/>
                                </a>
                                <a href="javascript:void(0)" class="btn btn-danger" data-id="${ele.idStatus}" 
                                onclick="deleteStatus(this)">
                                    <img src="https://img.icons8.com/material-rounded/24/000000/filled-trash.png"/>
                                </a>
                            </td>
                        </tr>
                        `
                    );
                    statusSl.insertAdjacentHTML('beforeend', `<option value="${ele.idStatus}">${ele.Status}</option>`);
                });
            });
        }
        
        function setDataStatus(ele){
            const data = JSON.parse(ele.getAttribute("data-infor"));
            document.getElementById("status").innerText = data.Status;
            document.getElementById("update-status-input").value = data.Status;
            document.getElementById("update-idstatus-input").value = data.idStatus;
        }
        
        function updateStatus(){
            const status = document.getElementById("update-status-input").value.trim();
            const id = document.getElementById("update-idstatus-input").value.trim();
            if (status) {
                fetch(`http://localhost:3456/api/v1/status/update/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({status})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Success"){
                        alert(result.message);
                        getStatus();
                    }else{
                        alert(result.error);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            } else {
                alert("Not emty");
            }
        }

        function createStatus(){
            const status = document.getElementById("create-status-input").value.trim();
            if (status) {
                fetch('http://localhost:3456/api/v1/status/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({status})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getStatus();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            } else {
                alert("Not emty");
            }
        }
        
        function deleteStatus(ele){
            if (confirm("Delete this ???")) {
                const id = ele.getAttribute("data-id");
                fetch(`http://localhost:3456/api/v1/status/delete/${id}`, {
                    method: 'DELETE'
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getStatus();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        }

    </script>

    <script>
        getSeries();
        function getSeries(){
            fetch('http://localhost:3456/api/v1/series/all')
            .then(response => response.json())
            .then(data => {
                const series = data.data;
                const seriesTb = document.getElementById("series-tb-list");
                seriesTb.innerHTML = '';
                series.forEach(ele => {
                    seriesTb.insertAdjacentHTML('beforeend', `
                        <tr>
                            <td>${ele.idSeries}</td>    
                            <td>${ele.Series}</td>
                            <td>
                                <a href='javascript:void(0)' class='btn btn-info' data-infor='${JSON.stringify(ele)}'
                                onclick="setDataSeries(this)" data-bs-toggle='modal' data-bs-target='#updateSeriesModal'>
                                    <img src="https://img.icons8.com/ios-glyphs/30/000000/edit--v1.png"/>
                                </a>
                                <a href="javascript:void(0)" class="btn btn-danger" data-id="${ele.idSeries}" 
                                onclick="deleteSeries(this)">
                                    <img src="https://img.icons8.com/material-rounded/24/000000/filled-trash.png"/>
                                </a>
                            </td>
                        </tr>
                        `
                    );
                });
            });
        }
        
        function setDataSeries(ele){
            const data = JSON.parse(ele.getAttribute("data-infor"));
            document.getElementById("series").innerText = data.Series;
            document.getElementById("update-series-input").value = data.Series;
            document.getElementById("update-idseries-input").value = data.idSeries;
        }
        
        function updateSeries(){
            const series = document.getElementById("update-series-input").value.trim();
            const id = document.getElementById("update-idseries-input").value.trim();
            if(series){
                fetch(`http://localhost:3456/api/v1/series/update/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({series})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Success"){
                        alert(result.message);
                        getSeries();
                    }else{
                        alert(result.error);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }else{
                alert("Not emty");
            }
        }

        function createSeries(){
            const series = document.getElementById("create-series-input").value.trim();
            if(series){
                fetch('http://localhost:3456/api/v1/series/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({series})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getSeries();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }else{
                alert("Not emty");
            }
        }
        
        function deleteSeries(ele){
            if (confirm("Delete this ???")) {
                const id = ele.getAttribute("data-id");
                fetch(`http://localhost:3456/api/v1/series/delete/${id}`, {
                    method: 'DELETE'
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getSeries();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        }

    </script>

    <script>
        getServer();
        function getServer(){
            fetch('http://localhost:3456/api/v1/server/all')
            .then(response => response.json())
            .then(data => {
                const servers = data.data;
                const serverTb = document.getElementById("server-tb-list");
                const serverSl = document.getElementById("update-mainserver-select");
                serverTb.innerHTML = '';
                serverSl.innerHTML = '';
                servers.forEach(ele => {
                    serverTb.insertAdjacentHTML('beforeend', `
                        <tr>
                            <td>${ele.idServer}</td>    
                            <td>${ele.Server}</td>
                            <td>${ele.ServerDescription}</td>
                            <td>
                                <a href='javascript:void(0)' class='btn btn-info' data-infor='${JSON.stringify(ele)}'
                                onclick="setDataServer(this)" data-bs-toggle='modal' data-bs-target='#updateServerModal'>
                                    <img src="https://img.icons8.com/ios-glyphs/30/000000/edit--v1.png"/>
                                </a>
                                <a href="javascript:void(0)" class="btn btn-danger" data-id="${ele.idServer}" 
                                onclick="deleteServer(this)">
                                    <img src="https://img.icons8.com/material-rounded/24/000000/filled-trash.png"/>
                                </a>
                            </td>
                        </tr>
                        `
                    );

                    serverSl.insertAdjacentHTML('beforeend', `<option value="${ele.idServer}">${ele.Server}</option>`);
                });
            });
        }
        
        function setDataServer(ele){
            const data = JSON.parse(ele.getAttribute("data-infor"));
            document.getElementById("server").innerText = data.Server;
            document.getElementById("update-server-input").value = data.Server;
            document.getElementById("update-description-input").value = data.ServerDescription;
            document.getElementById("update-idserver-input").value = data.idServer;
        }
        
        function updateServer(){
            const server = document.getElementById("update-server-input").value.trim();
            const description = document.getElementById("update-description-input").value.trim();
            const id = document.getElementById("update-idserver-input").value.trim();
            if(server){
                fetch(`http://localhost:3456/api/v1/server/update/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({server, description})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Success"){
                        alert(result.message);
                        getServer();
                    }else{
                        alert(result.error);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }else{
                alert("Not emty");
            }
        }

        function createServer(){
            const server = document.getElementById("create-server-input").value.trim();
            const description = document.getElementById("create-description-input").value.trim();
            if(server){
                fetch('http://localhost:3456/api/v1/server/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({server, description})
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getServer();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }else{
                alert("Not emty");
            }
        }
        
        function deleteServer(ele){
            if (confirm("Delete this ???")) {
                const id = ele.getAttribute("data-id");
                fetch(`http://localhost:3456/api/v1/server/delete/${id}`, {
                    method: 'DELETE'
                })
                .then(response => response.json())
                .then(result => {
                    if(result.message == "Failed"){
                        alert(result.error);
                    }else{
                        alert(result.message);
                        getServer();
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        }

    </script>

    <script>
        getAnime();
        function getAnime(){
            fetch('http://localhost:3456/api/v1/anime/all')
            .then(response => response.json())
            .then(data => {
                const anime = data.data;
                const animeTb = document.getElementById("anime-tb-list");
                animeTb.innerHTML = '';
                anime.forEach(ele => {
                    animeTb.insertAdjacentHTML('beforeend', `
                        <tr>
                            <td>${ele.idAnime}</td>    
                            <td>${ele.Name}</td>
                            <td>${ele.Status}</td>
                            <td>${ele.Activate}</td>
                            <td>
                                <a href='javascript:void(0)' class='btn btn-info' data-id='${ele.idAnime}'
                                onclick="setDataAnime(this)" data-bs-toggle='modal' data-bs-target='#updateAnimeModal'>
                                    <img src="https://img.icons8.com/ios-glyphs/30/000000/edit--v1.png"/>
                                </a>
                                <a href="javascript:void(0)" class="btn btn-danger" data-id="${ele.idAnime}" 
                                onclick="deleteAnimeSoft(this)">
                                    <img src="https://img.icons8.com/material-rounded/24/000000/filled-trash.png"/>
                                </a>
                                <a href="javascript:void(0)" class="btn btn-primary" data-genres="${JSON.stringify(ele.Genre)}" 
                                onclick="deleteAnimeSoft(this)">
                                    <img src="https://img.icons8.com/ios-glyphs/30/000000/list--v1.png"/>
                                </a>
                            </td>
                        </tr>
                        `
                    );
                });
            });
        }
        
        function setDataAnime(ele){
            const id = ele.getAttribute("data-id");
            // document.getElementById("server").innerText = data.Server;
            // document.getElementById("update-server-input").value = data.Server;
            // document.getElementById("update-description-input").value = data.ServerDescription;
            // document.getElementById("update-idserver-input").value = data.idServer;
        }
        
        // function updateServer(){
        //     const server = document.getElementById("update-server-input").value.trim();
        //     const description = document.getElementById("update-description-input").value.trim();
        //     const id = document.getElementById("update-idserver-input").value.trim();
        //     if(server){
        //         fetch(`http://localhost:3456/api/v1/server/update/${id}`, {
        //             method: 'PUT',
        //             headers: {
        //                 'Content-Type': 'application/json',
        //             },
        //             body: JSON.stringify({server, description})
        //         })
        //         .then(response => response.json())
        //         .then(result => {
        //             if(result.message == "Success"){
        //                 alert(result.message);
        //                 getServer();
        //             }else{
        //                 alert(result.error);
        //             }
        //         })
        //         .catch(error => {
        //             console.error('Error:', error);
        //         });
        //     }else{
        //         alert("Not emty");
        //     }
        // }

        // function createServer(){
        //     const server = document.getElementById("create-server-input").value.trim();
        //     const description = document.getElementById("create-description-input").value.trim();
        //     if(server){
        //         fetch('http://localhost:3456/api/v1/server/', {
        //             method: 'POST',
        //             headers: {
        //                 'Content-Type': 'application/json',
        //             },
        //             body: JSON.stringify({server, description})
        //         })
        //         .then(response => response.json())
        //         .then(result => {
        //             if(result.message == "Failed"){
        //                 alert(result.error);
        //             }else{
        //                 alert(result.message);
        //                 getServer();
        //             }
        //         })
        //         .catch(error => {
        //             console.error('Error:', error);
        //         });
        //     }else{
        //         alert("Not emty");
        //     }
        // }
        
        // function deleteServer(ele){
        //     if (confirm("Delete this ???")) {
        //         const id = ele.getAttribute("data-id");
        //         fetch(`http://localhost:3456/api/v1/server/delete/${id}`, {
        //             method: 'DELETE'
        //         })
        //         .then(response => response.json())
        //         .then(result => {
        //             if(result.message == "Failed"){
        //                 alert(result.error);
        //             }else{
        //                 alert(result.message);
        //                 getServer();
        //             }
        //         })
        //         .catch(error => {
        //             console.error('Error:', error);
        //         });
        //     }
        // }

    </script>

</body>

</html>